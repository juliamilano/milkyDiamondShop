import {FETCH_PRODUCTS_START, 
    FETCH_PRODUCTS_SUCCESS, FETCH_PRODUCTS_FAILURE} from "actionTypes";
import {fetchProducts as fetchPhonesApi} from "api";

export const fetchProducts = () => async dispatch => { //thunk
    dispatch({
        type: FETCH_PRODUCTS_START
    })
    try{
        const products = await fetchPhonesApi();
        dispatch({
            type: FETCH_PRODUCTS_SUCCESS,
            payload: products,
        })
    }catch(err){
        dispatch({
            type: FETCH_PRODUCTS_FAILURE, // необходим всегда тип
            payload: err,
            error: true
        })
    }
    
    // superagent.get("http://google.com/api").then(res => {});
}